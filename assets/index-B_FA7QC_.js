import{r as c,g as z,a as $,s as h,u as T,j as t,c as I,b as U,d as G,S as Q,m as V,e as H,f as O,T as f,h as _,i as Y,k as Z}from"./index-BgKs7bvV.js";const W=c.createContext({}),E=c.createContext({});function ee(e){return $("MuiStep",e)}z("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const te=e=>{const{classes:n,orientation:o,alternativeLabel:a,completed:s}=e;return U({root:["root",o,a&&"alternativeLabel",s&&"completed"]},ee,n)},ne=h("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[o.orientation],o.alternativeLabel&&n.alternativeLabel,o.completed&&n.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),oe=c.forwardRef(function(n,o){const a=T({props:n,name:"MuiStep"}),{active:s,children:r,className:d,component:l="div",completed:x,disabled:m,expanded:p=!1,index:i,last:u,...S}=a,{activeStep:j,connector:b,alternativeLabel:y,orientation:w,nonLinear:N}=c.useContext(W);let[v=!1,M=!1,C=!1]=[s,x,m];j===i?v=s!==void 0?s:!0:!N&&j>i?M=x!==void 0?x:!0:!N&&j<i&&(C=m!==void 0?m:!0);const k=c.useMemo(()=>({index:i,last:u,expanded:p,icon:i+1,active:v,completed:M,disabled:C}),[i,u,p,v,M,C]),g={...a,active:v,orientation:w,alternativeLabel:y,completed:M,disabled:C,expanded:p,component:l},R=te(g),P=t.jsxs(ne,{as:l,className:I(R.root,d),ref:o,ownerState:g,...S,children:[b&&y&&i!==0?b:null,r]});return t.jsx(E.Provider,{value:k,children:b&&!y&&i!==0?t.jsxs(c.Fragment,{children:[b,P]}):P})}),ae=G(t.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),se=G(t.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function re(e){return $("MuiStepIcon",e)}const D=z("MuiStepIcon",["root","active","completed","error","text"]);var q;const le=e=>{const{classes:n,active:o,completed:a,error:s}=e;return U({root:["root",o&&"active",a&&"completed",s&&"error"],text:["text"]},re,n)},F=h(Q,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,n)=>n.root})(V(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${D.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${D.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${D.error}`]:{color:(e.vars||e).palette.error.main}}))),ie=h("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,n)=>n.text})(V(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily}))),ce=c.forwardRef(function(n,o){const a=T({props:n,name:"MuiStepIcon"}),{active:s=!1,className:r,completed:d=!1,error:l=!1,icon:x,...m}=a,p={...a,active:s,completed:d,error:l},i=le(p);if(typeof x=="number"||typeof x=="string"){const u=I(r,i.root);return l?t.jsx(F,{as:se,className:u,ref:o,ownerState:p,...m}):d?t.jsx(F,{as:ae,className:u,ref:o,ownerState:p,...m}):t.jsxs(F,{className:u,ref:o,ownerState:p,...m,children:[q||(q=t.jsx("circle",{cx:"12",cy:"12",r:"12"})),t.jsx(ie,{className:i.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:p,children:x})]})}return x});function pe(e){return $("MuiStepLabel",e)}const L=z("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),de=e=>{const{classes:n,orientation:o,active:a,completed:s,error:r,disabled:d,alternativeLabel:l}=e;return U({root:["root",o,r&&"error",d&&"disabled",l&&"alternativeLabel"],label:["label",a&&"active",s&&"completed",r&&"error",d&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",a&&"active",s&&"completed",r&&"error",d&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},pe,n)},xe=h("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[o.orientation]]}})({display:"flex",alignItems:"center",[`&.${L.alternativeLabel}`]:{flexDirection:"column"},[`&.${L.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),me=h("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,n)=>n.label})(V(({theme:e})=>({...e.typography.body2,display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${L.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${L.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${L.alternativeLabel}`]:{marginTop:16},[`&.${L.error}`]:{color:(e.vars||e).palette.error.main}}))),ue=h("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,n)=>n.iconContainer})({flexShrink:0,display:"flex",paddingRight:8,[`&.${L.alternativeLabel}`]:{paddingRight:0}}),be=h("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,n)=>n.labelContainer})(V(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${L.alternativeLabel}`]:{textAlign:"center"}}))),X=c.forwardRef(function(n,o){const a=T({props:n,name:"MuiStepLabel"}),{children:s,className:r,componentsProps:d={},error:l=!1,icon:x,optional:m,slots:p={},slotProps:i={},StepIconComponent:u,StepIconProps:S,...j}=a,{alternativeLabel:b,orientation:y}=c.useContext(W),{active:w,disabled:N,completed:v,icon:M}=c.useContext(E),C=x||M;let k=u;C&&!k&&(k=ce);const g={...a,active:w,alternativeLabel:b,completed:v,disabled:N,error:l,orientation:y},R=de(g),P={slots:p,slotProps:{stepIcon:S,...d,...i}},[J,A]=H("label",{elementType:me,externalForwardedProps:P,ownerState:g}),[B,K]=H("stepIcon",{elementType:k,externalForwardedProps:P,ownerState:g});return t.jsxs(xe,{className:I(R.root,r),ref:o,ownerState:g,...j,children:[C||B?t.jsx(ue,{className:R.iconContainer,ownerState:g,children:t.jsx(B,{completed:v,active:w,error:l,icon:C,...K})}):null,t.jsxs(be,{className:R.labelContainer,ownerState:g,children:[s?t.jsx(J,{...A,className:I(R.label,A==null?void 0:A.className),children:s}):null,m]})]})});X.muiName="StepLabel";function ve(e){return $("MuiStepConnector",e)}z("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const he=e=>{const{classes:n,orientation:o,alternativeLabel:a,active:s,completed:r,disabled:d}=e,l={root:["root",o,a&&"alternativeLabel",s&&"active",r&&"completed",d&&"disabled"],line:["line",`line${O(o)}`]};return U(l,ve,n)},ge=h("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[o.orientation],o.alternativeLabel&&n.alternativeLabel,o.completed&&n.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),fe=h("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.line,n[`line${O(o.orientation)}`]]}})(V(({theme:e})=>{const n=e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600];return{display:"block",borderColor:e.vars?e.vars.palette.StepConnector.border:n,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),Se=c.forwardRef(function(n,o){const a=T({props:n,name:"MuiStepConnector"}),{className:s,...r}=a,{alternativeLabel:d,orientation:l="horizontal"}=c.useContext(W),{active:x,disabled:m,completed:p}=c.useContext(E),i={...a,alternativeLabel:d,orientation:l,active:x,completed:p,disabled:m},u=he(i);return t.jsx(ge,{className:I(u.root,s),ref:o,ownerState:i,...r,children:t.jsx(fe,{className:u.line,ownerState:i})})});function je(e){return $("MuiStepper",e)}z("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Ce=e=>{const{orientation:n,nonLinear:o,alternativeLabel:a,classes:s}=e;return U({root:["root",n,o&&"nonLinear",a&&"alternativeLabel"]},je,s)},Le=h("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[o.orientation],o.alternativeLabel&&n.alternativeLabel,o.nonLinear&&n.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),ye=t.jsx(Se,{}),Ne=c.forwardRef(function(n,o){const a=T({props:n,name:"MuiStepper"}),{activeStep:s=0,alternativeLabel:r=!1,children:d,className:l,component:x="div",connector:m=ye,nonLinear:p=!1,orientation:i="horizontal",...u}=a,S={...a,nonLinear:p,alternativeLabel:r,orientation:i,component:x},j=Ce(S),b=c.Children.toArray(d).filter(Boolean),y=b.map((N,v)=>c.cloneElement(N,{index:v,last:v+1===b.length,...N.props})),w=c.useMemo(()=>({activeStep:s,alternativeLabel:r,connector:m,nonLinear:p,orientation:i}),[s,r,m,p,i]);return t.jsx(W.Provider,{value:w,children:t.jsx(Le,{as:x,ownerState:S,className:I(j.root,l),ref:o,...u,children:y})})}),we=["Chọn người tiêm","Chọn vắc xin","Chọn lịch tiêm"],Me=({step:e})=>t.jsx(Ne,{activeStep:e-1,alternativeLabel:!0,children:we.map((n,o)=>t.jsx(oe,{children:t.jsx(X,{children:n})},o))}),Re=({listChild:e,setSelectedChild:n,selectedChild:o})=>t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-600",children:"Chọn người tiêm"}),t.jsxs("select",{className:"w-full p-2 mt-1 border rounded outline-none h-10 text-black ",value:o?o.id:"",onChange:a=>{const s=e.find(r=>r.id===a.target.value);n(s||null)},children:[t.jsx("option",{value:"",className:"text-center",children:"-----Chọn người tiêm-----"}),e.map(a=>t.jsx("option",{value:a.id,className:"text-center hover:bg-blue-400 hover:text-white",children:a.childName},a.id))]}),o&&t.jsx("div",{className:" mt-4",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-600",children:"Thong tin người tiêm"}),t.jsxs("div",{className:"grid grid-cols-2  gap-6 text-left",children:[t.jsx(f,{title:"Tên phụ huynh",data:o.parentName}),t.jsx(f,{title:"Tên đầy đủ",data:o.childName})]}),t.jsxs("div",{className:"grid grid-cols-3  gap-6 text-left",children:[t.jsx(f,{title:"Giới tính",data:o.childGender==="Male"?"Nam":"Nữ"}),t.jsx(f,{title:"Ngày tháng năm sinh",data:_(o.dateOfBirth)}),t.jsx(f,{title:"Nơi sinh",data:o.birthPlace})]}),t.jsxs("div",{className:"grid grid-cols-3  gap-6 text-left",children:[t.jsx(f,{title:"Phương pháp sinh",data:o.birthMethod}),t.jsx(f,{title:"Cân nặng (kg)",data:o.birthWeight}),t.jsx(f,{title:"Chiều cao (cm)",data:o.birthHeight})]}),t.jsx(f,{title:"Khiếm khuyết",data:o.abnormalities})]})})]}),Ie=({selectedVaccines:e,setSelectedVaccines:n})=>t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-600",children:"Chọn Vaccine"}),t.jsx("div",{className:"border p-4 mb-4 text-left",children:e.map((o,a)=>t.jsxs("div",{className:"flex justify-between items-center bg-blue-100 p-2 mb-2 rounded",children:[t.jsx("span",{children:o}),t.jsx("button",{onClick:()=>n(e.filter(s=>s!==o)),className:"text-red-500",children:"X"})]},a))})]}),ke=({selectedChild:e,selectedVaccines:n,register:o,errors:a})=>t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-600",children:"Xác nhận thông tin"}),t.jsxs("div",{className:"text-left mb-4",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Người tiêm:"})," ",e==null?void 0:e.fullName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Vaccine đã chọn:"})," ",n.join(", ")]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"font-semibold text-black",children:"Chọn ngày tiêm:"}),t.jsx("input",{type:"date",...o("date",{required:"Vui lòng chọn ngày tiêm"}),className:"w-full p-2 mt-1 h-12 border rounded bg-blue-100 text-black"}),a.date&&t.jsx("p",{className:"text-red-500 text-sm",children:a.date.message})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"font-semibold text-black",children:"Chọn giờ tiêm:"}),t.jsx("select",{...o("time",{required:"Vui lòng chọn giờ tiêm"}),className:"w-full p-2 mt-1 h-12 border rounded bg-blue-100 text-black",children:[...Array(24).keys()].map(s=>t.jsxs("option",{value:s+1,children:[s+1,":00"]},s))}),a.time&&t.jsx("p",{className:"text-red-500 text-sm",children:a.time.message})]})]})]}),Pe=()=>{const{register:e,handleSubmit:n,formState:{errors:o}}=Y(),[a,s]=c.useState(1),[r,d]=c.useState([]),[l,x]=c.useState(null),[m,p]=c.useState([]);c.useEffect(()=>{const u=localStorage.getItem("userDataNhanAi"),S=JSON.parse(u||"{}").id;(async()=>{try{const b=await Z.getAllChildProfile(S);console.log(b),d(b)}catch(b){console.error(b)}})()},[]);const i=u=>{console.log({selectedChild:l,selectedVaccines:m,...u})};return t.jsx("div",{className:"flex flex-col items-center my-3 h-screen  p-6",children:t.jsxs("div",{className:"w-screen max-w-4xl min-w-min text-center",children:[t.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl",children:[t.jsx(Me,{step:a}),a===1&&t.jsx(Re,{listChild:r,setSelectedChild:x,selectedChild:l}),a===2&&t.jsx(Ie,{selectedVaccines:m,setSelectedVaccines:p}),a===3&&t.jsx(ke,{selectedChild:l,selectedVaccines:m,register:e,errors:o})]}),t.jsxs("div",{className:"mt-4 flex justify-between",children:[a>=1&&t.jsx("button",{className:"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500",onClick:()=>s(a-1),children:"Quay lại"}),a<3?t.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:()=>{s(a+1),console.log(l)},children:"Tiếp tục"}):t.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",onClick:n(i),children:"Đăng ký"})]})]})})},$e=()=>t.jsx(Pe,{});export{$e as default};
